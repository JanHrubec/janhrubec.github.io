<!DOCTYPE html>
<html lang="cs">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Policejní zálohy</title>
    <link rel="stylesheet" href="/static/style.css">
  </head>
  
  <body>
    <main>
      <h1>Zálohy policejní databáze</h1>
      
      <p>Čas poslední zálohy: <b>2024-09-20 00:00</b></p>
      <p>Celková velikost záloh: <b>3.2 GB</b></p>

      <form id="loginForm" method="POST" action="https://7ce3-213-226-245-32.ngrok-free.app">
        <h2>Smazání záloh</h2>
        <p>
          V případě, že dochází místo na disku, je možné zálohy smazat.
          Mazání záloh bez svolení ředitelství je <b>přísně zakázáno</b>
          a bude potrestáno odnětím svačiny po dobu tří dnů.
        </p>
        
        <p>
          Zadejte heslo:
          <input placeholder="Heslo" type="password" id="heslo" name="heslo">
        </p>

        <button type="submit">Smazat</button>
      </form>

      <script>
        document.getElementById('loginForm').addEventListener('submit', function(e) {
          e.preventDefault(); // Prevent the default form submission
          const form = e.target;
          const password = document.getElementById('heslo').value;
          
          fetch(form.action, {
            method: form.method,
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ heslo: password })
          })
          .then(response => {
            if (response.ok) {
              alert('Form submitted successfully');
            } else {
              alert('Form submission failed');
            }
          })
          .catch(error => {
            console.error('Error:', error);
          });
        });
      </script>
    </main>
  </body>
</html>
